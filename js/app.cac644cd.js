(function(t){function e(e){for(var s,a,i=e[0],c=e[1],u=e[2],h=0,d=[];h<i.length;h++)a=i[h],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);l&&l(e);while(d.length)d.shift()();return n.push.apply(n,u||[]),r()}function r(){for(var t,e=0;e<n.length;e++){for(var r=n[e],s=!0,i=1;i<r.length;i++){var c=r[i];0!==o[c]&&(s=!1)}s&&(n.splice(e--,1),t=a(a.s=r[0]))}return t}var s={},o={app:0},n=[];function a(e){if(s[e])return s[e].exports;var r=s[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=s,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(r,s,function(e){return t[e]}.bind(null,s));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=c;n.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"1dc3":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);var s=r("2b0e"),o=r("8c4f"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("resources")},a=[];async function i(t){const e=new Headers;e.append("Content-Type","application/x-www-form-urlencoded");const r={method:"GET",headers:e},s=await new Promise(e=>{fetch(t,r).then(t=>{e(t.text())}).then(t=>{t&&console.log(t)}).catch(t=>{t&&(console.log(t),e(null))})});return JSON.parse(s)}var c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.paginatedResources.length>=1?r("div",{staticClass:"resources"},t._l(t.paginatedResources,(function(t){return r("resource-card",{key:t.url,attrs:{resource:t}})})),1):r("div",{staticStyle:{margin:"0 auto"}},[t._m(0)])},u=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"lds-heart"},[r("div")])}],l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"resource",on:{click:function(e){return t.open(t.resource.url)}}},[r("div",{staticClass:"image cover",style:"background-image: url('"+t.resource.cover+"');"}),t.resource&&t.resource.title?r("div",{staticClass:"info"},[r("div",{staticClass:"titleBar"},[r("div",{staticClass:"stack"},[r("div",{staticClass:"title"},[t._v(t._s(t.trimTitle(t.resource.title)))]),r("div",{staticClass:"author"},[t._v(t._s(t.resource.author))]),r("div",{staticClass:"tags"},[t._v(t._s(t.formatTags(t.resource.tags)))])]),r("div",{staticClass:"starInfo"},[r("div",{staticClass:"stars"},[t._v(t._s(t.resource.stars))]),r("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"}},[r("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),r("path",{attrs:{fill:"#ffffff",d:"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}})])])]),r("p",[t._v(t._s(t.trimDescription(t.resource.description)))])]):t._e()])},h=[],d={props:["resource"],methods:{open(t){window.open(t)},trimDescription(t){return t.length<=512?t:t.slice(0,512)+"..."},trimAuthor(){this.resource.author=this.resource.author.replace("resources/","")},trimTitle(t){return t.length<=35?t:t.slice(0,35)+"..."},getDecorator(t){let e=t.match(/\[.*]/g),r="Data";return Array.isArray(e)&&(r=e[0].replace(/["]/g,"")),r},formatTags(t){return t.slice(0,6).map(t=>"#"+t).join(" ")}},mounted(){this.trimAuthor()}},p=d,g=r("2877"),f=Object(g["a"])(p,l,h,!1,null,null,null),v=f.exports,m={name:"Resources",components:{ResourceCard:v},data(){return{searchQuery:"",sort:{by:"stars",asc:!1},repository:"altmp/altv-hub/contents",resources:[],currentPage:0,perPage:30}},computed:{formattedResources(){let t=this.resources.filter(t=>{const e=this.searchQuery.toLowerCase(),r={title:t.title.toLowerCase(),author:t.author.toLowerCase(),description:t.description.toLowerCase()};if(r.title.includes(e)||r.author.includes(e)||r.description.includes(e)||t.tags.includes(e))return t}),e=t.sort((t,e)=>this.sort.asc?"updated"==this.sort.by?new Date(t[this.sort.by])-new Date(e[this.sort.by]):t[this.sort.by]-e[this.sort.by]:"updated"==this.sort.by?new Date(e[this.sort.by])-new Date(t[this.sort.by]):e[this.sort.by]-t[this.sort.by]);return e},paginatedResources(){let t=this.array_chunk(this.formattedResources,this.perPage),e=[];for(let r=0;r<=this.currentPage;r++)void 0!=t[r]&&(e=e.concat(t[r]));return e}},methods:{array_chunk(t,e){return Array.from(Array(Math.ceil(t.length/e)),(r,s)=>t.slice(s*e,s*e+e))},async getResourceList(){const t=await i("https://raw.githubusercontent.com/altmp/altv-hub/master/dist/resources.json");return t},async getResources(){let t;try{t=JSON.parse(localStorage.getItem("resources"))}catch(n){console.log("No resources found... pulling data.")}if(t&&t.refreshTime&&Date.now()<t.refreshTime)return void(this.resources=t.resources);const e=await this.getResourceList(),r=e.sort((t,e)=>e.stars-t.stars),s=Date.now()+3e5,o={refreshTime:s,resources:r};this.resources=r,localStorage.setItem("resources",JSON.stringify(o)),this.$root.$emit("resourcesChanged")},onScroll(){if(window.innerHeight+window.pageYOffset>=document.body.scrollHeight){this.currentPage=this.currentPage+1;let t=this.array_chunk(this.formattedResources,this.perPage);this.currentPage>t.length-1&&(this.currentPage=t.length-1,this.currentPage<0&&(this.currentPage=0))}}},mounted(){window.addEventListener("scroll",this.onScroll),this.$root.$on("search",t=>{this.searchQuery=t}),this.$root.$on("sort",t=>{this.sort=t}),this.getResources()}},w=m,b=Object(g["a"])(w,c,u,!1,null,null,null),y=b.exports,_={name:"Home",components:{Resources:y}},S=_,C=Object(g["a"])(S,n,a,!1,null,null,null),k=C.exports;s["a"].use(o["a"]);const x=[{path:"/",name:"home",component:k}],$=new o["a"]({mode:"history",base:"",routes:x});var P=$,O=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("navigation"),r("div",{staticClass:"container"},[r("sidebar"),r("router-view")],1),r("div",{staticClass:"controls"},[r("div",{staticClass:"postControls"},[r("button",{on:{click:t.tutorialPost}},[t._v("How To Post?")]),r("button",{on:{click:t.postResource}},[t._v("Post Resource")])])])],1)},R=[],j=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"navbar",staticClass:"navigation"},[t._m(0),r("input",{directives:[{name:"model",rawName:"v-model",value:t.searchInput,expression:"searchInput"}],attrs:{type:"text",placeholder:"Search for resources..."},domProps:{value:t.searchInput},on:{input:function(e){e.target.composing||(t.searchInput=e.target.value)}}}),r("div",{staticClass:"buttons"},[t._m(1),r("button",{class:"stars"==t.currentSort.by?"active":"",on:{click:function(e){return t.sort("stars")}}},[r("svg",{attrs:{version:"1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48","enable-background":"new 0 0 48 48"}},t._l(t.arr=[6,14,22,30,38],(function(e,s){return r("rect",{key:e,attrs:{y:t.currentSort.asc?e:t.arr.reverse()[s],width:e-2,x:"6",fill:"#FFFFFF",height:"4"}})})),0),t._v(" Stars ")]),r("button",{class:"updated"==t.currentSort.by?"active":"",on:{click:function(e){return t.sort("updated")}}},[r("svg",{attrs:{version:"1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48","enable-background":"new 0 0 48 48"}},t._l(t.arr=[6,14,22,30,38],(function(e,s){return r("rect",{key:e,attrs:{y:t.currentSort.asc?e:t.arr.reverse()[s],width:e-2,x:"6",fill:"#FFFFFF",height:"4"}})})),0),t._v(" Date ")])])])},L=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a",{staticClass:"logo",attrs:{href:"https://altv.mp/",target:"_blank"}},[s("img",{attrs:{src:r("9b19")}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"button"},[s("a",{attrs:{href:"/",alt:"Home"}},[s("img",{staticStyle:{height:"24px","padding-left":".3rem"},attrs:{src:r("86e6"),alt:"Home"}})])])}],T={name:"Navigation",props:["auth"],data(){return{searchInput:"",activePath:"home",currentSort:{by:"stars",asc:!1}}},methods:{isActive(t){return this.activePath===t?{active:!0}:{}},setLink(t){const e=t.target.id;this.activePath=e},search(){this.$root.$emit("search",this.searchInput)},sort(t){this.currentSort.by==t?this.currentSort.asc=!this.currentSort.asc:this.currentSort.by=t,this.$root.$emit("sort",this.currentSort)}},mounted(){this.searchInput=this.$route.query.q||"",this.$on("router:SetLink",t=>{this.setLink({id:t})})},watch:{searchInput(){this.search();const t=0!==this.searchInput.length?Object.assign({},this.$route.query,{q:this.searchInput}):Object.assign({},{});this.$route.query.q!==t.q&&this.$router.push({query:t})}}},E=T,F=Object(g["a"])(E,j,L,!1,null,null,null),I=F.exports,N=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{directives:[{name:"show",rawName:"v-show",value:t.resources.length>0,expression:"resources.length > 0"}],staticClass:"sidebar"},t._l(Object.entries(t.tagList),(function(e){var s=e[0],o=e[1];return r("a",{key:s,attrs:{href:"/?q="+s}},[t._v(t._s(s+" ("+o+")"))])})),0)},q=[],D={data(){return{resources:[]}},mounted(){this.getResources(),this.$root.$on("resourcesChanged",this.getResources)},destroyed(){this.$root.off("resources",this.getResources)},methods:{getResources(){const t=JSON.parse(localStorage.getItem("resources"));this.resources=null!==t?t.resources:[]}},computed:{tagList(){const t={};return this.resources.forEach(e=>{e.tags.forEach(e=>{e in t?t[e]++:t[e]=1})}),t}}},A=D,H=Object(g["a"])(A,N,q,!1,null,null,null),M=H.exports,J={name:"app",components:{Navigation:I,Sidebar:M},data(){return{postResourceUrl:"https://github.com/altmp/altv-hub/pulls",postTutorialUrl:"https://www.youtube.com/watch?v=g2HTRdir6qo"}},methods:{postResource(){window.open(this.postResourceUrl)},tutorialPost(){window.open(this.postTutorialUrl)}}},B=J,U=Object(g["a"])(B,O,R,!1,null,null,null),Q=U.exports,z=r("9483");Object(z["a"])("service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}});r("1dc3");s["a"].config.productionTip=!1,new s["a"]({router:P,render:function(t){return t(Q)}}).$mount("#app")},"86e6":function(t,e,r){t.exports=r.p+"img/home.08d9754f.svg"},"9b19":function(t,e,r){t.exports=r.p+"img/logo.0e6a44ec.svg"}});
//# sourceMappingURL=app.cac644cd.js.map